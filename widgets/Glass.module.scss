@layer widget {
  .glass {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: -1;
    pointer-events: none; /* Glass should not intercept mouse events */

    .background {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      height: 100%;
      bottom: 0;
      background: rgba(255, 255, 255, var(--glass-background-opacity));
      backdrop-filter: blur(var(--glass-blur-radius));
      transition: 0.4s ease;
      mask-image: linear-gradient(
        to bottom,
        rgba(0, 0, 0, var(--glass-mask-opacity-start)) var(--glass-mask-start),
        rgba(0, 0, 0, var(--glass-mask-opacity-end)) var(--glass-mask-end)
      );
    }

    .glare {
      position: absolute;
      top: 0;
      left: -150%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, var(--glass-glare-opacity)),
        transparent
      );
      animation: glare var(--glass-glare-duration) infinite ease-in-out;
      animation-delay: var(--glass-glare-delay);
    }
  }
}

@keyframes glare {
  0% {
    transform: translateX(0) skewX(-25deg);
  }
  15% {
    transform: translateX(250%) skewX(-25deg);
  }
  100% {
    transform: translateX(250%) skewX(-25deg);
  }
}
